/******/ (() => { // webpackBootstrap
/*!******************!*
  !*** ./popup.js ***!
  \******************/
const search = document.getElementById('search');
const versatile = document.getElementById('versatile');
const card__text = document.getElementById('card__text');
const DEBOUNCE_DURATION = 1000;
$('.loader').css("display", "none");
addEventListener('DOMContentLoaded', () => {
  search.focus();
  chrome.storage.sync.get('word', function (data) {
    if (!data.word) {
      return;
    }

    search.value = data.word;
    searchWord(data.word);
  });
});
chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {
  if (request.loading) {
    $('.loader').css("display", "block");
  } else {
    $('.loader').css("display", "none");
  }
});

function debounce(callback, wait, context = this) {
  let timeout = null;
  let callbackArgs = null;

  const later = () => callback.apply(context, callbackArgs);

  return function () {
    callbackArgs = arguments;
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

const debouncingSearchWord = debounce(e => {
  searchWord(e.target.value);
}, DEBOUNCE_DURATION);
search.addEventListener('input', debouncingSearchWord);
versatile.addEventListener('click', e => {
  search.value = e.target.innerText;
  searchWord(search.value);
});
const NO_CONTENT_ELEMENT = `
                   <div>
                    <span>검색 결과가 없습니다.</span>
                    <a target="_blank" href="https://meotitda.github.io/DICTIONARY-EDITOR/">→ 새로운 단어 추가하기</a>
                    <a target="_blank" href="https://github.com/meotitda/DICTIONARY">→ 단어 추가 메뉴얼</a>
                   </div>
                   `;

function searchWord(word) {
  chrome.runtime.sendMessage({
    handler: 'translate',
    word
  }, function (response) {
    switch (response.type) {
      case 'recommand':
        versatile.innerHTML = "<span style='color:red;'>추천 검색어</span><br>";
        response.recommands.map((recommand, index) => {
          const element = document.createElement('span');
          element.className = "recommanded_word";
          element.innerText = recommand.title + " ";
          versatile.appendChild(element);
          card__text.innerHTML = NO_CONTENT_ELEMENT;
          return;
        });
        break;

      case 'find':
        versatile.innerHTML = '';
        card__text.innerHTML = response.word.content.replaceAll('<br />', '<br /><br />').replaceAll('```', '<code>');
        break;

      case 'no_find':
        versatile.innerHTML = '';
        card__text.innerHTML = NO_CONTENT_ELEMENT;
        break;

      default:
    }

    return true;
  });
  versatile.innerHTML = '';
  card__text.innerHTML = NO_CONTENT_ELEMENT;
}
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsb19leHRlbnNpb25zLy4vcG9wdXAuanMiXSwibmFtZXMiOlsic2VhcmNoIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZlcnNhdGlsZSIsImNhcmRfX3RleHQiLCJERUJPVU5DRV9EVVJBVElPTiIsIiQiLCJjc3MiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9jdXMiLCJjaHJvbWUiLCJzdG9yYWdlIiwic3luYyIsImdldCIsImRhdGEiLCJ3b3JkIiwidmFsdWUiLCJzZWFyY2hXb3JkIiwicnVudGltZSIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwicmVxdWVzdCIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImxvYWRpbmciLCJkZWJvdW5jZSIsImNhbGxiYWNrIiwid2FpdCIsImNvbnRleHQiLCJ0aW1lb3V0IiwiY2FsbGJhY2tBcmdzIiwibGF0ZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkZWJvdW5jaW5nU2VhcmNoV29yZCIsImUiLCJ0YXJnZXQiLCJpbm5lclRleHQiLCJOT19DT05URU5UX0VMRU1FTlQiLCJzZW5kTWVzc2FnZSIsImhhbmRsZXIiLCJyZXNwb25zZSIsInR5cGUiLCJpbm5lckhUTUwiLCJyZWNvbW1hbmRzIiwibWFwIiwicmVjb21tYW5kIiwiaW5kZXgiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInRpdGxlIiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50IiwicmVwbGFjZUFsbCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLFFBQXhCLENBQWY7QUFDQSxNQUFNQyxTQUFTLEdBQUdGLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixXQUF4QixDQUFsQjtBQUNBLE1BQU1FLFVBQVUsR0FBR0gsUUFBUSxDQUFDQyxjQUFULENBQXdCLFlBQXhCLENBQW5CO0FBQ0EsTUFBTUcs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QUNYLFNBQVIsR0FBb0JTLFNBQVMsQ0FBQ0ssS0FBVixHQUFrQixHQUF0QztBQUNBbEQsbUJBQVMsQ0FBQ21ELFdBQVYsQ0FBc0JKLE9BQXRCO0FBQ0E5QyxvQkFBVSxDQUFDeUMsU0FBWCxHQUF1Qkwsa0JBQXZCO0FBQ0E7QUFDRixTQVBGO0FBUUM7O0FBQ0osV0FBSyxNQUFMO0FBQ0lyQyxpQkFBUyxDQUFDMEMsU0FBVixHQUFvQixFQUFwQjtBQUNBekMsa0JBQVUsQ0FBQ3lDLFNBQVgsR0FBdUJGLFFBQVEsQ0FBQzVCLElBQVQsQ0FBY3dDLE9BQWQsQ0FBc0JDLFVBQXRCLENBQWlDLFFBQWpDLEVBQTJDLGNBQTNDLEVBQTJEQSxVQUEzRCxDQUFzRSxLQUF0RSxFQUE2RSxRQUE3RSxDQUF2QjtBQUNBOztBQUNKLFdBQUssU0FBTDtBQUNJckQsaUJBQVMsQ0FBQzBDLFNBQVYsR0FBb0IsRUFBcEI7QUFDQXpDLGtCQUFVLENBQUN5QyxTQUFYLEdBQXVCTCxrQkFBdkI7QUFDQTs7QUFDSjtBQXBCSjs7QUFzQkEsV0FBTyxJQUFQO0FBRUgsR0ExQkQ7QUEyQkFyQyxXQUFTLENBQUMwQyxTQUFWLEdBQW9CLEVBQXBCO0FBQ0F6QyxZQUFVLENBQUN5QyxTQUFYLEdBQXVCTCxrQkFBdkI7QUFDSCxDIiwiZmlsZSI6InBvcHVwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgc2VhcmNoID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlYXJjaCcpXG5jb25zdCB2ZXJzYXRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmVyc2F0aWxlJylcbmNvbnN0IGNhcmRfX3RleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FyZF9fdGV4dCcpXG5jb25zdCBERUJPVU5DRV9EVVJBVElPTiA9IDEwMDA7IFxuXG4kKCcubG9hZGVyJykuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG5cbmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKT0+IHtcbiAgICAgICAgc2VhcmNoLmZvY3VzKClcbiAgICAgICAgY2hyb21lLnN0b3JhZ2Uuc3luYy5nZXQoJ3dvcmQnLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBpZighZGF0YS53b3JkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZWFyY2gudmFsdWUgPSBkYXRhLndvcmRcbiAgICAgICAgICAgIHNlYXJjaFdvcmQoZGF0YS53b3JkKVxuICAgICAgICB9KTtcbn0pXG5cbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcihcbiAgICBmdW5jdGlvbihyZXF1ZXN0LCBzZW5kZXIsIHNlbmRSZXNwb25zZSkge1xuICAgICAgICBpZiAocmVxdWVzdC5sb2FkaW5nKSB7XG4gICAgICAgICAgICAkKCcubG9hZGVyJykuY3NzKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAkKCcubG9hZGVyJykuY3NzKFwiZGlzcGxheVwiLCBcIm5vbmVcIik7XG4gICAgICAgIH1cbiAgICB9XG4pO1xuXG5mdW5jdGlvbiBkZWJvdW5jZShjYWxsYmFjaywgd2FpdCwgY29udGV4dCA9IHRoaXMpIHtcbiAgICBsZXQgdGltZW91dCA9IG51bGw7XG4gICAgbGV0IGNhbGxiYWNrQXJncyA9IG51bGw7XG5cbiAgICBjb25zdCBsYXRlciA9ICgpID0+IGNhbGxiYWNrLmFwcGx5KGNvbnRleHQsIGNhbGxiYWNrQXJncyk7XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbGxiYWNrQXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgfTtcbn1cblxuY29uc3QgZGVib3VuY2luZ1NlYXJjaFdvcmQgPSBkZWJvdW5jZSgoZSkgPT4ge1xuICAgICAgICBzZWFyY2hXb3JkKGUudGFyZ2V0LnZhbHVlKTsgXG4gICAgICB9LCBERUJPVU5DRV9EVVJBVElPTilcblxuXG5zZWFyY2guYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBkZWJvdW5jaW5nU2VhcmNoV29yZClcblxudmVyc2F0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJyAsKGUpPT4ge1xuICAgIHNlYXJjaC52YWx1ZSA9IGUudGFyZ2V0LmlubmVyVGV4dFxuICAgIHNlYXJjaFdvcmQoc2VhcmNoLnZhbHVlKVxufSlcblxuXG5jb25zdCBOT19DT05URU5UX0VMRU1FTlQgPSBgXG4gICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+6rKA7IOJIOqysOqzvOqwgCDsl4bsirXri4jri6QuPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9tZW90aXRkYS5naXRodWIuaW8vRElDVElPTkFSWS1FRElUT1IvXCI+4oaSIOyDiOuhnOyatCDri6jslrQg7LaU6rCA7ZWY6riwPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiaHR0cHM6Ly9naXRodWIuY29tL21lb3RpdGRhL0RJQ1RJT05BUllcIj7ihpIg64uo7Ja0IOy2lOqwgCDrqZTribTslrw8L2E+XG4gICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgYDtcblxuZnVuY3Rpb24gc2VhcmNoV29yZCh3b3JkKSB7XG4gICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2UoXG4gICAgICAgIHtoYW5kbGVyOiAndHJhbnNsYXRlJywgd29yZH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgIHN3aXRjaChyZXNwb25zZS50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdyZWNvbW1hbmQnOlxuICAgICAgICAgICAgICAgIHZlcnNhdGlsZS5pbm5lckhUTUw9XCI8c3BhbiBzdHlsZT0nY29sb3I6cmVkOyc+7LaU7LKcIOqygOyDieyWtDwvc3Bhbj48YnI+XCJcbiAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlY29tbWFuZHMubWFwKChyZWNvbW1hbmQsIGluZGV4KT0+IHtcbiAgICAgICAgICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpXG4gICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBcInJlY29tbWFuZGVkX3dvcmRcIlxuICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuaW5uZXJUZXh0ID0gcmVjb21tYW5kLnRpdGxlICsgXCIgXCJcbiAgICAgICAgICAgICAgICAgICB2ZXJzYXRpbGUuYXBwZW5kQ2hpbGQoZWxlbWVudClcbiAgICAgICAgICAgICAgICAgICBjYXJkX190ZXh0LmlubmVySFRNTCA9IE5PX0NPTlRFTlRfRUxFTUVOVFxuICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ2ZpbmQnOlxuICAgICAgICAgICAgICAgIHZlcnNhdGlsZS5pbm5lckhUTUw9JydcbiAgICAgICAgICAgICAgICBjYXJkX190ZXh0LmlubmVySFRNTCA9IHJlc3BvbnNlLndvcmQuY29udGVudC5yZXBsYWNlQWxsKCc8YnIgLz4nLCAnPGJyIC8+PGJyIC8+JykucmVwbGFjZUFsbCgnYGBgJyAsJzxjb2RlPicpXG4gICAgICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICAgIGNhc2UgJ25vX2ZpbmQnOlxuICAgICAgICAgICAgICAgIHZlcnNhdGlsZS5pbm5lckhUTUw9JydcbiAgICAgICAgICAgICAgICBjYXJkX190ZXh0LmlubmVySFRNTCA9IE5PX0NPTlRFTlRfRUxFTUVOVFxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlXG5cbiAgICB9KVxuICAgIHZlcnNhdGlsZS5pbm5lckhUTUw9JydcbiAgICBjYXJkX190ZXh0LmlubmVySFRNTCA9IE5PX0NPTlRFTlRfRUxFTUVOVFxufVxuXG4iXSwic291cmNlUm9vdCI6IiJ9