/******/ (() => { // webpackBootstrap
/*!******************!*
  !*** ./popup.js ***!
  \******************/
const search = document.getElementById('search');
const versatile = document.getElementById('versatile');
const card__text = document.getElementById('card__text');
const DEBOUNCE_DURATION = 1500;
$('.loader').css("display", "none");
addEventListener('DOMContentLoaded', () => {
  search.focus();
  chrome.storage.sync.get('word', function (data) {
    if (!data.word) {
      return;
    }

    search.value = data.word;
    searchWord(data.word);
  });
});
chrome.runtime.onMessage.addListener(function (request, sender, sendResponse) {
  if (request.loading) {
    $('.loader').css("display", "block");
  } else {
    $('.loader').css("display", "none");
  }
});

function debounce(callback, wait, context = this) {
  let timeout = null;
  let callbackArgs = null;

  const later = () => callback.apply(context, callbackArgs);

  return function () {
    callbackArgs = arguments;
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

const debouncingSearchWord = debounce(e => {
  searchWord(e.target.value);
}, DEBOUNCE_DURATION);
search.addEventListener('input', debouncingSearchWord);
versatile.addEventListener('click', e => {
  search.value = e.target.innerText;
  searchWord(search.value);
});
const NO_CONTENT_ELEMENT = `
                   <div>
                    <span>검색 결과가 없습니다.</span>
                    <a target="_blank" href="https://meotitda.github.io/DICTIONARY-EDITOR/">→ 새로운 단어 추가하기</a>
                    <a target="_blank" href="https://github.com/meotitda/DICTIONARY">→ 단어 추가 메뉴얼</a>
                   </div>
                   `;

function searchWord(word) {
  chrome.runtime.sendMessage({
    handler: 'translate',
    word
  }, function (response) {
    switch (response.type) {
      case 'recommand':
        versatile.innerHTML = "<span style='color:red;'>추천 검색어</span><br>";
        response.recommands.map((recommand, index) => {
          const element = document.createElement('span');
          element.className = "recommanded_word";
          element.innerText = recommand.title + " ";
          versatile.appendChild(element);
          card__text.innerHTML = NO_CONTENT_ELEMENT;
          return;
        });
        break;

      case 'find':
        versatile.innerHTML = '';
        card__text.innerHTML = response.word.content.replaceAll('<br />', '<br /><br />');
        break;

      case 'no_find':
        versatile.innerHTML = '';
        card__text.innerHTML = NO_CONTENT_ELEMENT;
        break;

      default:
    }

    return true;
  });
  versatile.innerHTML = '';
  card__text.innerHTML = NO_CONTENT_ELEMENT;
}
/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9oZWxsb19leHRlbnNpb25zLy4vcG9wdXAuanMiXSwibmFtZXMiOlsic2VhcmNoIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInZlcnNhdGlsZSIsImNhcmRfX3RleHQiLCJERUJPVU5DRV9EVVJBVElPTiIsIiQiLCJjc3MiLCJhZGRFdmVudExpc3RlbmVyIiwiZm9jdXMiLCJjaHJvbWUiLCJzdG9yYWdlIiwic3luYyIsImdldCIsImRhdGEiLCJ3b3JkIiwidmFsdWUiLCJzZWFyY2hXb3JkIiwicnVudGltZSIsIm9uTWVzc2FnZSIsImFkZExpc3RlbmVyIiwicmVxdWVzdCIsInNlbmRlciIsInNlbmRSZXNwb25zZSIsImxvYWRpbmciLCJkZWJvdW5jZSIsImNhbGxiYWNrIiwid2FpdCIsImNvbnRleHQiLCJ0aW1lb3V0IiwiY2FsbGJhY2tBcmdzIiwibGF0ZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsImNsZWFyVGltZW91dCIsInNldFRpbWVvdXQiLCJkZWJvdW5jaW5nU2VhcmNoV29yZCIsImUiLCJ0YXJnZXQiLCJpbm5lclRleHQiLCJOT19DT05URU5UX0VMRU1FTlQiLCJzZW5kTWVzc2FnZSIsImhhbmRsZXIiLCJyZXNwb25zZSIsInR5cGUiLCJpbm5lckhUTUwiLCJyZWNvbW1hbmRzIiwibWFwIiwicmVjb21tYW5kIiwiaW5kZXgiLCJlbGVtZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTmFtZSIsInRpdGxlIiwiYXBwZW5kQ2hpbGQiLCJjb250ZW50IiwicmVwbGFjZUFsbCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsUUFBUSxDQUFDQyxjQUFULENBQXdCLFFBQXhCLENBQWY7QUFDQSxNQUFNQyxTQUFTLEdBQUdGLFFBQVEsQ0FBQ0MsY0FBVCxDQUF3QixXQUF4QixDQUFsQjtBQUNBLE1BQU1FLFVBQVUsR0FBR0gsUUFBUSxDQUFDQyxjQUFULENBQXdCLFlBQXhCLENBQW5CO0FBQ0EsTUFBTUcs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QUNYLFNBQVIsR0FBb0JTLFNBQVMsQ0FBQ0ssS0FBVixHQUFrQixHQUF0QztBQUNBbEQsbUJBQVMsQ0FBQ21ELFdBQVYsQ0FBc0JKLE9BQXRCO0FBQ0E5QyxvQkFBVSxDQUFDeUMsU0FBWCxHQUF1Qkwsa0JBQXZCO0FBQ0E7QUFDRixTQVBGO0FBUUM7O0FBQ0osV0FBSyxNQUFMO0FBQ0lyQyxpQkFBUyxDQUFDMEMsU0FBVixHQUFvQixFQUFwQjtBQUNBekMsa0JBQVUsQ0FBQ3lDLFNBQVgsR0FBdUJGLFFBQVEsQ0FBQzVCLElBQVQsQ0FBY3dDLE9BQWQsQ0FBc0JDLFVBQXRCLENBQWlDLFFBQWpDLEVBQTJDLGNBQTNDLENBQXZCO0FBQ0E7O0FBQ0osV0FBSyxTQUFMO0FBQ0lyRCxpQkFBUyxDQUFDMEMsU0FBVixHQUFvQixFQUFwQjtBQUNBekMsa0JBQVUsQ0FBQ3lDLFNBQVgsR0FBdUJMLGtCQUF2QjtBQUNBOztBQUNKO0FBcEJKOztBQXNCQSxXQUFPLElBQVA7QUFFSCxHQTFCRDtBQTJCQXJDLFdBQVMsQ0FBQzBDLFNBQVYsR0FBb0IsRUFBcEI7QUFDQXpDLFlBQVUsQ0FBQ3lDLFNBQVgsR0FBdUJMLGtCQUF2QjtBQUNILEMiLCJmaWxlIjoicG9wdXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBzZWFyY2ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoJylcbmNvbnN0IHZlcnNhdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2ZXJzYXRpbGUnKVxuY29uc3QgY2FyZF9fdGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkX190ZXh0JylcbmNvbnN0IERFQk9VTkNFX0RVUkFUSU9OID0gMTUwMDsgXG5cbiQoJy5sb2FkZXInKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcblxuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpPT4ge1xuICAgICAgICBzZWFyY2guZm9jdXMoKVxuICAgICAgICBjaHJvbWUuc3RvcmFnZS5zeW5jLmdldCgnd29yZCcsIGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgICAgIGlmKCFkYXRhLndvcmQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm5cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNlYXJjaC52YWx1ZSA9IGRhdGEud29yZFxuICAgICAgICAgICAgc2VhcmNoV29yZChkYXRhLndvcmQpXG4gICAgICAgIH0pO1xufSlcblxuY2hyb21lLnJ1bnRpbWUub25NZXNzYWdlLmFkZExpc3RlbmVyKFxuICAgIGZ1bmN0aW9uKHJlcXVlc3QsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXF1ZXN0LmxvYWRpbmcpIHtcbiAgICAgICAgICAgICQoJy5sb2FkZXInKS5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XG4gICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICQoJy5sb2FkZXInKS5jc3MoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcbiAgICAgICAgfVxuICAgIH1cbik7XG5cbmZ1bmN0aW9uIGRlYm91bmNlKGNhbGxiYWNrLCB3YWl0LCBjb250ZXh0ID0gdGhpcykge1xuICAgIGxldCB0aW1lb3V0ID0gbnVsbDtcbiAgICBsZXQgY2FsbGJhY2tBcmdzID0gbnVsbDtcblxuICAgIGNvbnN0IGxhdGVyID0gKCkgPT4gY2FsbGJhY2suYXBwbHkoY29udGV4dCwgY2FsbGJhY2tBcmdzKTtcblxuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgY2FsbGJhY2tBcmdzID0gYXJndW1lbnRzO1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0KTtcbiAgICB9O1xufVxuXG5jb25zdCBkZWJvdW5jaW5nU2VhcmNoV29yZCA9IGRlYm91bmNlKChlKSA9PiB7XG4gICAgICAgIHNlYXJjaFdvcmQoZS50YXJnZXQudmFsdWUpOyBcbiAgICAgIH0sIERFQk9VTkNFX0RVUkFUSU9OKVxuXG5cbnNlYXJjaC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGRlYm91bmNpbmdTZWFyY2hXb3JkKVxuXG52ZXJzYXRpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snICwoZSk9PiB7XG4gICAgc2VhcmNoLnZhbHVlID0gZS50YXJnZXQuaW5uZXJUZXh0XG4gICAgc2VhcmNoV29yZChzZWFyY2gudmFsdWUpXG59KVxuXG5cbmNvbnN0IE5PX0NPTlRFTlRfRUxFTUVOVCA9IGBcbiAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj7qsoDsg4kg6rKw6rO86rCAIOyXhuyKteuLiOuLpC48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL21lb3RpdGRhLmdpdGh1Yi5pby9ESUNUSU9OQVJZLUVESVRPUi9cIj7ihpIg7IOI66Gc7Jq0IOuLqOyWtCDstpTqsIDtlZjquLA8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL2dpdGh1Yi5jb20vbWVvdGl0ZGEvRElDVElPTkFSWVwiPuKGkiDri6jslrQg7LaU6rCAIOuplOuJtOyWvDwvYT5cbiAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICBgO1xuXG5mdW5jdGlvbiBzZWFyY2hXb3JkKHdvcmQpIHtcbiAgICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShcbiAgICAgICAge2hhbmRsZXI6ICd0cmFuc2xhdGUnLCB3b3JkfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgc3dpdGNoKHJlc3BvbnNlLnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ3JlY29tbWFuZCc6XG4gICAgICAgICAgICAgICAgdmVyc2F0aWxlLmlubmVySFRNTD1cIjxzcGFuIHN0eWxlPSdjb2xvcjpyZWQ7Jz7stpTsspwg6rKA7IOJ7Ja0PC9zcGFuPjxicj5cIlxuICAgICAgICAgICAgICAgcmVzcG9uc2UucmVjb21tYW5kcy5tYXAoKHJlY29tbWFuZCwgaW5kZXgpPT4ge1xuICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJylcbiAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IFwicmVjb21tYW5kZWRfd29yZFwiXG4gICAgICAgICAgICAgICAgICAgZWxlbWVudC5pbm5lclRleHQgPSByZWNvbW1hbmQudGl0bGUgKyBcIiBcIlxuICAgICAgICAgICAgICAgICAgIHZlcnNhdGlsZS5hcHBlbmRDaGlsZChlbGVtZW50KVxuICAgICAgICAgICAgICAgICAgIGNhcmRfX3RleHQuaW5uZXJIVE1MID0gTk9fQ09OVEVOVF9FTEVNRU5UXG4gICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnZmluZCc6XG4gICAgICAgICAgICAgICAgdmVyc2F0aWxlLmlubmVySFRNTD0nJ1xuICAgICAgICAgICAgICAgIGNhcmRfX3RleHQuaW5uZXJIVE1MID0gcmVzcG9uc2Uud29yZC5jb250ZW50LnJlcGxhY2VBbGwoJzxiciAvPicsICc8YnIgLz48YnIgLz4nKVxuICAgICAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgICBjYXNlICdub19maW5kJzpcbiAgICAgICAgICAgICAgICB2ZXJzYXRpbGUuaW5uZXJIVE1MPScnXG4gICAgICAgICAgICAgICAgY2FyZF9fdGV4dC5pbm5lckhUTUwgPSBOT19DT05URU5UX0VMRU1FTlRcbiAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgfSlcbiAgICB2ZXJzYXRpbGUuaW5uZXJIVE1MPScnXG4gICAgY2FyZF9fdGV4dC5pbm5lckhUTUwgPSBOT19DT05URU5UX0VMRU1FTlRcbn1cblxuIl0sInNvdXJjZVJvb3QiOiIifQ==